(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{67982:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return re}});var r=n(24246),a=n(57135),s=n.n(a),c=n(27791),i=n(22951),o=n(91976),d=n(47169),l=n(31753),u=n(20066),h=n(27597),p=n(64649),f=n(27378),x=n(72371),m=n(69732),k=n(85058),w=n(22914),v=n(38814),j=n(76433),y=n(36665),S=n(32598),Z=n(71631),b=n(5487),O=n(15470),g=n(20463),P=function(){var e=(0,c.Z)(s().mark((function e(){var t,n,r,a,c,i,o=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("FFOOD"!==(t=o.length>0&&void 0!==o[0]?o[0]:"FFOOD")){e.next=10;break}return e.next=4,(0,m.s8)(v);case 4:return r=e.sent,e.next=7,(0,m.s8)(w);case 7:n=e.sent,e.next=26;break;case 10:if("CFOOD"!==t){e.next=19;break}return e.next=13,(0,m.s8)(y);case 13:return r=e.sent,e.next=16,(0,m.s8)(S);case 16:n=e.sent,e.next=26;break;case 19:if("GFOOD"!==t){e.next=26;break}return e.next=22,(0,m.s8)(b);case 22:return r=e.sent,e.next=25,(0,m.s8)(O);case 25:n=e.sent;case 26:return e.next=28,(0,k.D0)();case 28:return a=e.sent,e.next=31,n.getStakedBalance.call({from:a});case 31:return c=e.sent,e.next=34,(0,k.He)(r,c,4);case 34:return i=e.sent,e.abrupt("return",i);case 36:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=(0,c.Z)(s().mark((function e(t){var n,r,a,i,o,d=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("FFOOD"!==(n=d.length>1&&void 0!==d[1]?d[1]:"FFOOD")){e.next=10;break}return e.next=4,(0,m.s8)(v);case 4:return a=e.sent,e.next=7,(0,m.s8)(w);case 7:r=e.sent,e.next=26;break;case 10:if("CFOOD"!==n){e.next=19;break}return e.next=13,(0,m.s8)(y);case 13:return a=e.sent,e.next=16,(0,m.s8)(S);case 16:r=e.sent,e.next=26;break;case 19:if("GFOOD"!==n){e.next=26;break}return e.next=22,(0,m.s8)(b);case 22:return a=e.sent,e.next=25,(0,m.s8)(O);case 25:r=e.sent;case 26:return e.next=28,(0,k.D0)();case 28:return i=e.sent,e.next=31,(0,k.ij)(a,t);case 31:return o=e.sent,e.abrupt("return",new Promise(function(){var e=(0,c.Z)(s().mark((function e(t,n){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.depositAndStartStake(o,{from:i});case 3:a=e.sent,t(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()));case 33:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=(0,c.Z)(s().mark((function e(t){var n,r,a,i,o,d=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.length>1&&void 0!==d[1]?d[1]:"FFOOD",e.next=3,(0,k.D0)();case 3:if(r=e.sent,"FFOOD"!==n){e.next=13;break}return e.next=7,(0,m.s8)(v);case 7:return i=e.sent,e.next=10,(0,m.s8)(w);case 10:a=e.sent,e.next=29;break;case 13:if("CFOOD"!==n){e.next=22;break}return e.next=16,(0,m.s8)(y);case 16:return i=e.sent,e.next=19,(0,m.s8)(S);case 19:a=e.sent,e.next=29;break;case 22:if("GFOOD"!==n){e.next=29;break}return e.next=25,(0,m.s8)(b);case 25:return i=e.sent,e.next=28,(0,m.s8)(O);case 28:a=e.sent;case 29:return e.next=31,(0,k.ij)(i,t);case 31:return o=e.sent,e.abrupt("return",new Promise(function(){var e=(0,c.Z)(s().mark((function e(t,n){var c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.endStakeAndWithdraw(o,{from:r});case 3:c=e.sent,t(c),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()));case 33:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=(0,c.Z)(s().mark((function e(){var t,n,r,a=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"FFOOD",e.next=3,(0,k.D0)();case 3:if(n=e.sent,"FFOOD"!==t){e.next=10;break}return e.next=7,(0,m.s8)(w);case 7:r=e.sent,e.next=20;break;case 10:if("CFOOD"!==t){e.next=16;break}return e.next=13,(0,m.s8)(S);case 13:r=e.sent,e.next=20;break;case 16:if("GFOOD"!==t){e.next=20;break}return e.next=19,(0,m.s8)(O);case 19:r=e.sent;case 20:return e.abrupt("return",new Promise(function(){var e=(0,c.Z)(s().mark((function e(t,a){var c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.claimReward({from:n});case 3:c=e.sent,t(c),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()));case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=(0,c.Z)(s().mark((function e(){var t,n,r,a,i=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("FFOOD"!==(t=i.length>0&&void 0!==i[0]?i[0]:"FFOOD")){e.next=10;break}return e.next=4,(0,m.s8)(j);case 4:return r=e.sent,e.next=7,(0,m.s8)(w);case 7:n=e.sent,e.next=26;break;case 10:if("CFOOD"!==t){e.next=19;break}return e.next=13,(0,m.s8)(Z);case 13:return r=e.sent,e.next=16,(0,m.s8)(S);case 16:n=e.sent,e.next=26;break;case 19:if("GFOOD"!==t){e.next=26;break}return e.next=22,(0,m.s8)(g);case 22:return r=e.sent,e.next=25,(0,m.s8)(O);case 25:n=e.sent;case 26:return e.next=28,(0,k.D0)();case 28:return a=e.sent,e.abrupt("return",new Promise(function(){var e=(0,c.Z)(s().mark((function e(t,c){var i,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getRewardsStats({from:a});case 3:return i=e.sent,e.next=6,(0,k.He)(r,i.claimableRewards,4);case 6:return e.t0=e.sent,e.next=9,(0,k.He)(r,i.rewardsPaid,4);case 9:return e.t1=e.sent,e.next=12,(0,k.He)(r,i.rewardRate,4);case 12:return e.t2=e.sent,e.next=15,(0,k.He)(r,i.totalRewardsPaid,4);case 15:e.t3=e.sent,o={claimableRewards:e.t0,rewardsPaid:e.t1,rewardRate:e.t2,totalRewardsPaid:e.t3},t(o),e.next=23;break;case 20:e.prev=20,e.t4=e.catch(0),c(e.t4);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t,n){return e.apply(this,arguments)}}()));case 30:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=n(90968),N=n(19087),T=n(27949),E=n(67327),U=n(52125),B=n(12411),M=n(80754),L=n(53738),G=n(57231),W=n(87137),_=n(23907),q=function(e){var t=e.title,n=e.value,a=e.symbol;return(0,r.jsx)("div",{children:(0,r.jsx)(M.Z,{className:"border border-primary",children:(0,r.jsxs)(_.Z.Group,{as:L.Z,controlId:"lpTokenBalance",children:[(0,r.jsx)(_.Z.Label,{column:!0,style:{minWidth:200},className:"text-start",children:t}),(0,r.jsx)(G.Z,{}),(0,r.jsxs)(_.Z.Label,{column:!0,style:{minWidth:200},className:"text-end",children:[n," ",a]})]})})})},I=function(e){var t=e.rewardRate,n=e.totalRewardsPaid,a=e.tokenSelected;return(0,r.jsxs)(M.Z,{className:"border border-primary",children:[(0,r.jsxs)(_.Z.Group,{as:L.Z,controlId:"lpTokenBalance",children:[(0,r.jsx)(_.Z.Label,{column:!0,style:{minWidth:250},className:"text-start",children:"Rewards Rate"}),(0,r.jsx)(G.Z,{}),(0,r.jsxs)(_.Z.Label,{column:!0,style:{minWidth:200},className:"text-end",children:[60*t*60*24," ",a," / day"]})]}),(0,r.jsxs)(_.Z.Group,{as:L.Z,controlId:"lpTokenBalance",children:[(0,r.jsx)(_.Z.Label,{column:!0,style:{minWidth:250},className:"text-start",children:"Total Rewards Paid"}),(0,r.jsx)(G.Z,{}),(0,r.jsxs)(_.Z.Label,{column:!0,style:{minWidth:200},className:"text-end",children:[n," ",a]})]})]})},$=n(75124);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var a=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var Y=function(e){(0,l.Z)(n,e);var t=X(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e),(0,p.Z)((0,d.Z)(r),"setAmount",(function(e){var t=Math.floor(Number(r.state.balance)*e)/100,n=!isNaN(t)&&t>0;r.setState({validAmount:n,amount:isNaN(t)?"":t.toString()})})),(0,p.Z)((0,d.Z)(r),"updateAmount",(function(e){var t=r.parseAmount(e.target.value),n=!isNaN(t)&&t>=0;r.setState({validAmount:n,amount:e.target.value}),n&&r.checkAllowance(t).then((function(e){r.setState({sufficientAllowance:e})}))})),(0,p.Z)((0,d.Z)(r),"allowButtonPressed",(0,c.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Number(r.state.amount),e.next=3,(0,C.dE)(t,r.state.tokenSelected).then((function(e){r.checkAllowance(t).then((function(e){var t=!1;!1===e&&(t=!0),r.setState({sufficientAllowance:e,showError:t})}))}));case 3:case"end":return e.stop()}}),e)})))),(0,p.Z)((0,d.Z)(r),"checkAllowance",(function(e){return new Promise((function(t,n){(0,C.RC)(r.state.tokenSelected).then((function(n){console.log("Allowance for ".concat(r.state.tokenSelected),n),t(e<=n)})).catch((function(e){console.error("Error checking allowance",e),n(e)}))}))})),(0,p.Z)((0,d.Z)(r),"submitForm",(function(){"stake"===r.state.formType?r.submitStake():"unstake"===r.state.formType&&r.submitUnstake()})),(0,p.Z)((0,d.Z)(r),"submitStake",(function(){var e=r.state,t=e.amount,n=e.sufficientAllowance,a=e.validAmount;if(n)if(a){var s=Number(t);F(s,r.state.tokenSelected).then((function(e){r.props.handleSuccess("Stake increased. Transaction id: ".concat(e.tx))})).catch((function(e){console.log(">>> onSubmit startStake error:",e);var t=r.getStakeError(e);r.props.handleError(e,t)}))}else r.setState({error:"Invalid tolen amount"});else r.setState({error:"Insufficient token allowance"})})),(0,p.Z)((0,d.Z)(r),"submitUnstake",(function(){var e=r.state,t=e.amount;if(e.validAmount){var n=Number(t);R(n,r.state.tokenSelected).then((function(e){r.props.handleSuccess("Stake decreased. Transaction id: ".concat(e.tx))})).catch((function(e){console.log(">>> submitUnstake endStake error:",e);var t=r.getStakeError(e);r.props.handleError(e,t)}))}else r.setState({error:"Invalid tolen amount"})})),(0,p.Z)((0,d.Z)(r),"getStakeError",(function(e){switch(!0){case e.message.includes("No active reward phase found"):return"No active reward phase found";case e.message.includes("Invalid reward amount"):return"Invalid reward amount";case e.message.includes("Invalid reward interval"):return"Invalid reward interval";default:return e.message}})),(0,p.Z)((0,d.Z)(r),"parseAmount",(function(e){return Math.floor(100*Number(e))/100})),r.state=Q(Q({},e),{},{amount:""}),r}return(0,o.Z)(n,[{key:"componentDidUpdate",value:function(e){e.tokenSelected!==this.props.tokenSelected&&this.setState({tokenSelected:this.props.tokenSelected})}},{key:"render",value:function(){var e=this,t=this.state,n=t.formType,a=t.balance,s="stake"===n?"Stake":"unstake"===n?"Unstake":void 0;return s?(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-center",children:s}),(0,r.jsxs)(_.Z,{className:"p-4",children:[(0,r.jsxs)(_.Z.Group,{row:!0,controlId:"stakeAmount",children:[(0,r.jsxs)(_.Z.Label,{variant:"secondary",className:"w-100 text-end text-muted",children:["Balance: ",a]}),(0,r.jsxs)($.Z,{className:"mb-3",children:[(0,r.jsx)(_.Z.Control,{type:"text",placeholder:"0.0",autoComplete:"off",value:this.state.amount,title:"balance not staked",onChange:function(t){return e.updateAmount(t)}}),(0,r.jsxs)($.Z.Text,{children:[" ",this.state.tokenSelected,"-LP "]})]})]}),(0,r.jsx)(M.Z,{children:(0,r.jsxs)(L.Z,{children:[(0,r.jsxs)(G.Z,{className:"m-0 p-2",children:[" ",(0,r.jsx)(W.Z,{onClick:function(){return e.setAmount(25)},className:"w-100",variant:"outline-secondary",children:"25%"})," "]}),(0,r.jsxs)(G.Z,{className:"m-0 p-2",children:[" ",(0,r.jsx)(W.Z,{onClick:function(){return e.setAmount(50)},className:"w-100",variant:"outline-secondary",children:"50%"})," "]}),(0,r.jsxs)(G.Z,{className:"m-0 p-2",children:[" ",(0,r.jsx)(W.Z,{onClick:function(){return e.setAmount(75)},className:"w-100",variant:"outline-secondary",children:"75%"})," "]}),(0,r.jsxs)(G.Z,{className:"m-0 p-2",children:[" ",(0,r.jsx)(W.Z,{onClick:function(){return e.setAmount(100)},className:"w-100",variant:"outline-secondary",children:"Max"})," "]})]})}),(0,r.jsxs)("div",{style:{textAlign:"center"},className:"mt-4",children:[this.state.validAmount&&!this.state.sufficientAllowance&&"stake"===this.state.formType&&(0,r.jsx)(W.Z,{name:"allow",type:"button",variant:"primary w-50",onClick:function(t){return e.allowButtonPressed()},className:"pl-2",children:"Allow LP token transfer"}),"\xa0\xa0\xa0",(0,r.jsx)(W.Z,{variant:"primary w-25",onClick:this.submitForm,disabled:!(this.state.validAmount&&("unstake"===this.state.formType||this.state.sufficientAllowance)),children:s}),this.state.showError?(0,r.jsxs)("p",{style:{color:"red"},children:[(0,r.jsx)("br",{}),"There has been an error in your last transaction, please try again."]}):null]})]})]}):(0,r.jsx)("div",{children:"Error"})}}]),n}(f.Component),z=n(82990);n(35664);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var a=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var ee=n(17962),te=function(e){(0,l.Z)(n,e);var t=V(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e),(0,p.Z)((0,d.Z)(r),"claimRewardPressed",(function(){D(r.state.tokenSelected).then((function(e){r.props.handleSuccess("Reward claimed. Transaction id: ".concat(e.tx))})).catch((function(e){r.props.handleError(e)}))})),(0,p.Z)((0,d.Z)(r),"showUpdateStakeModalPreseed",(function(e){r.setState({showUpdateStakeModal:!0,formType:e})})),(0,p.Z)((0,d.Z)(r),"hideUpdateStakeModalPreseed",(function(){r.setState({showUpdateStakeModal:!1,formType:void 0})})),(0,p.Z)((0,d.Z)(r),"handleAllowanceUpdated",(function(){r.props.allowanceUpdated()})),(0,p.Z)((0,d.Z)(r),"handleSuccess",(function(){r.hideUpdateStakeModalPreseed(),r.props.handleSuccess()})),(0,p.Z)((0,d.Z)(r),"handleError",(function(){r.hideUpdateStakeModalPreseed(),r.props.handleError()})),r.state=K(K({},e),{},{showUpdateStakeModal:!1,liquidityAPR:0,maticPrice:0,ffoodPrice:0,aumUSD:0,tokenSelected:e.tokenSelected}),r}return(0,o.Z)(n,[{key:"componentDidUpdate",value:function(e){var t=this;e.lpUnstaked===this.props.lpUnstaked&&e.lpStaked===this.props.lpStaked&&e.claimableRewards===this.props.claimableRewards&&e.rewardsPaid===this.props.rewardsPaid&&e.rewardRate===this.props.rewardRate&&e.totalRewardsPaid===this.props.totalRewardsPaid&&e.formType===this.props.formType&&e.rewardPerdiod.totalStaked===this.props.rewardPerdiod.totalStaked&&e.tokenSelected===this.props.tokenSelected||this.setState({lpUnstaked:this.props.lpUnstaked,lpStaked:this.props.lpStaked,claimableRewards:this.props.claimableRewards,rewardsPaid:this.props.rewardsPaid,rewardRate:this.props.rewardRate,totalRewardsPaid:this.props.totalRewardsPaid,formType:this.props.formType,rewardPerdiod:this.props.rewardPerdiod,tokenSelected:this.props.tokenSelected}),e.tokenSelected!==this.props.tokenSelected&&setTimeout((function(){t.fetchAPR()}),500)}},{key:"componentDidMount",value:function(){this.fetchAPR()}},{key:"fetchQuickswap",value:function(){var e=(0,c.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.get("https://api.ratalert.com/graph?token0=0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270&token1=".concat(t));case 2:return n=e.sent,e.abrupt("return",n.body.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchAPR",value:function(){var e=(0,c.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.get("https://api.ratalert.com/token?token=".concat(this.state.tokenSelected));case 2:(t=e.sent)&&t.body&&this.setState({totalLPSupply:0,poolAUM:0,totalStakedRatio:0,aumUSD:t.body.aum,liquidityAPR:t.body.apr,maticPrice:0,ffoodPrice:t.body.price});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.showUpdateStakeModal,a=t.formType,s=t.lpUnstaked,c=t.lpStaked,i=t.claimableRewards,o=t.rewardsPaid,d=t.rewardRate,l=t.totalRewardsPaid,u=c&&this.state.rewardPerdiod.totalStaked>0?Math.round(1e4*c/this.state.rewardPerdiod.totalStaked)/100:"0";return(0,r.jsxs)("div",{children:[(0,r.jsxs)(E.ny,{children:[(0,r.jsxs)(B.Z,{style:{flex:1,minWidth:200,margin:10},children:[(0,r.jsx)(B.Z.Title,{className:"p-2",children:"Total LP Tokens Staked"}),(0,r.jsxs)(B.Z.Body,{children:[" ",this.state.rewardPerdiod.totalStaked," LP"]})]}),(0,r.jsxs)(B.Z,{style:{flex:1,minWidth:200,margin:10},children:[(0,r.jsx)(B.Z.Title,{className:"p-2",children:"My LP Tokens Staked"}),(0,r.jsxs)(B.Z.Body,{children:[" ",c," "]})]}),(0,r.jsxs)(B.Z,{style:{flex:1,minWidth:200,margin:10},children:[(0,r.jsx)(B.Z.Title,{className:"p-2",children:"My pool share"}),(0,r.jsxs)(B.Z.Body,{children:[u," %"]})]}),(0,r.jsxs)(B.Z,{style:{flex:1,minWidth:200,margin:10},children:[(0,r.jsx)(B.Z.Title,{className:"p-2",children:"My Rewards Received"}),(0,r.jsxs)(B.Z.Body,{children:[o," ",this.state.tokenSelected]})]})]}),(0,r.jsxs)(E.ny,{children:[(0,r.jsxs)(B.Z,{style:{flex:1,minWidth:200,margin:10},children:[(0,r.jsx)(B.Z.Title,{className:"p-2",children:"Total AUM"}),(0,r.jsxs)(B.Z.Body,{children:[" ",parseFloat(this.state.aumUSD).toFixed(2),"$"]})]}),(0,r.jsxs)(B.Z,{style:{flex:1,minWidth:200,margin:10},children:[(0,r.jsx)(B.Z.Title,{className:"p-2",children:"Current APR"}),(0,r.jsxs)(B.Z.Body,{children:[" ",parseFloat(this.state.liquidityAPR).toFixed(0),"% "]})]}),(0,r.jsxs)(B.Z,{style:{flex:1,minWidth:200,margin:10},children:[(0,r.jsxs)(B.Z.Title,{className:"p-2",children:["Current ",this.state.tokenSelected," Price"]}),(0,r.jsxs)(B.Z.Body,{children:[" ",parseFloat(this.state.ffoodPrice).toFixed(4)," $"]})]}),(0,r.jsxs)(B.Z,{style:{flex:1,minWidth:200,margin:10},children:[(0,r.jsx)(B.Z.Title,{className:"p-2",children:"Daily est. earnings"}),(0,r.jsxs)(B.Z.Body,{children:[parseFloat(60*d*60*24*(u/100)).toFixed(0)," ",this.state.tokenSelected]})]})]}),(0,r.jsx)("div",{className:"mt-4"}),(0,r.jsxs)(E.M5,{maxWidth:"500",children:[(0,r.jsx)(q,{title:"Balance not staked yet",value:s,symbol:"".concat(this.state.tokenSelected,"-LP")}),(0,r.jsx)("div",{className:"mt-4"}),(0,r.jsx)(M.Z,{children:(0,r.jsxs)(L.Z,{children:[(0,r.jsx)(G.Z,{children:(0,r.jsx)(W.Z,{name:"stake",className:"w-100",variant:"primary",onClick:function(t){return e.showUpdateStakeModalPreseed("stake")},children:"Stake"})}),(0,r.jsx)(G.Z,{children:(0,r.jsx)(W.Z,{name:"unstake",className:"w-100",variant:"secondary",onClick:function(t){return e.showUpdateStakeModalPreseed("unstake")},children:"Unstake"})})]})}),(0,r.jsx)("div",{className:"mt-4"}),(0,r.jsx)(I,{tokenSelected:this.state.tokenSelected,rewardRate:d,totalRewardsPaid:l}),(0,r.jsx)("div",{className:"mt-4"}),(0,r.jsx)(q,{title:"Claimable rewards",value:i,symbol:this.state.tokenSelected}),(0,r.jsx)("div",{className:"mt-2"}),(0,r.jsx)("div",{className:"d-grid gap-2",children:(0,r.jsx)(W.Z,{name:"claim",style:{minWidth:200},variant:"primary",onClick:function(t){return e.claimRewardPressed()},children:"Claim rewards"})}),n&&(0,r.jsx)(z.Z,{onClose:function(t){return e.hideUpdateStakeModalPreseed()},children:(0,r.jsx)(Y,{formType:a,handleSuccess:function(t){return e.handleSuccess(t)},handleError:function(t,n){return e.handleError(t,n)},allowanceUpdated:function(){return e.handleAllowanceUpdated()},balance:"stake"==a?this.state.lpUnstaked:"unstake"==a?this.state.lpStaked:0,tokenSelected:this.state.tokenSelected})})]})]})}}]),n}(f.Component);function ne(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,h.Z)(e);if(t){var a=(0,h.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var re=function(e){(0,l.Z)(n,e);var t=ne(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e),(0,p.Z)((0,d.Z)(r),"stakeUpdated",(0,c.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.headerRef.current.reload();case 2:return e.next=4,r.reload();case 4:case"end":return e.stop()}}),e)})))),(0,p.Z)((0,d.Z)(r),"setAccountConnected",(function(e){r.setState({accountConnected:e})})),(0,p.Z)((0,d.Z)(r),"handleSuccess",(function(e){r.headerRef.current.reload(),r.reload(),r.setState({info:{title:"Success!",detail:e}})})),(0,p.Z)((0,d.Z)(r),"handleError",(function(e,t){t?r.setState({error:t}):e&&e.message?r.setState({error:e.message}):r.setState({error:"An error occurred (".concat(e,")")})})),r.state={accountConnected:!1,currentRewardPerdiod:void 0,metamaskInstalled:!1,totalStaked:0,tokenSelected:"FFOOD"},r.headerRef=f.createRef(),r}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){this.reload()}},{key:"reload",value:function(){this.loadBalances()}},{key:"loadBalances",value:function(){var e=(0,c.Z)(s().mark((function e(){var t,n=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.ethereum){e.next=5;break}return console.warn("No metamask installed"),e.abrupt("return");case 5:this.setState({metamaskInstalled:!0});case 6:return e.next=8,(0,N.rS)(this.state.tokenSelected);case 8:t=e.sent,console.log(this.state.tokenSelected,t),this.setState({currentRewardPerdiod:t}),(0,N.M$)(this.state.tokenSelected).then(function(){var e=(0,c.Z)(s().mark((function e(t,r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return",P(n.state.tokenSelected));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()).then((function(e){return n.setState({lpStaked:e}),(0,C.sb)(n.state.tokenSelected)})).then((function(e){return n.setState({lpUnstaked:e.units}),A(n.state.tokenSelected)})).then((function(e){n.setState(e)})).catch((function(e){}));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleAllowanceUpdated",value:function(){var e=(0,c.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"selectToken",value:function(e){var t=this;this.setState({tokenSelected:event.target.value}),setTimeout((function(){t.loadBalances()}),500)}},{key:"renderBuyLink",value:function(e){var t={FFOOD:"0x2721d859EE8d03599F628522d30f14d516502944",CFOOD:"0x33CC3b1852939Ef8CFd77BB5c3707cF2D3E72490",GFOOD:"0x57d43Cfe565A2e6C181662aE73A9F1EC6A830351"},n="https://quickswap.exchange/#/swap?inputCurrency=".concat(t[e],"&outputCurrency=").concat(t[this.state.tokenSelected]);if(e!==this.state.tokenSelected)return(0,r.jsx)("span",{children:(0,r.jsxs)("a",{href:n,target:"_new",children:["$",this.state.tokenSelected," with $",e]})})}},{key:"renderTable",value:function(){return(0,r.jsxs)("div",{id:"content",children:[(0,r.jsxs)("p",{children:["The ",(0,r.jsx)("strong",{children:"RatAlert DAO"})," is rewarding active ",(0,r.jsx)("strong",{children:"Liquidity providers"})," with food tokens on a weekly basis. ",(0,r.jsx)("strong",{children:"10"}),"% of the supply of all 3 tokens is reserved for liquidity providers. Providing liquidity allows people to buy and sell food tokens. Your rewards share is proportional to the amount of liquidity you provide, and is distributed in ",(0,r.jsx)("strong",{children:"realtime"}),"."]}),(0,r.jsxs)("p",{children:["An article with exact steps how to provide liquidity can be found on ",(0,r.jsx)("a",{href:"https://ratalert.medium.com/becoming-a-lp-liquidity-provider-65ddf404ed2c",target:"_new",children:"Medium"}),"."]}),(0,r.jsxs)("p",{children:[(0,r.jsxs)("strong",{children:["Selected FOOD token:\xa0\xa0",(0,r.jsxs)("select",{onChange:this.selectToken.bind(this),children:[(0,r.jsx)("option",{selected:"FFOOD"===this.state.tokenSelected,value:"FFOOD",children:"FFOOD (Fast Food)"}),(0,r.jsx)("option",{selected:"CFOOD"===this.state.tokenSelected,value:"CFOOD",children:"CFOOD (Casual Food)"}),(0,r.jsx)("option",{selected:"GFOOD"===this.state.tokenSelected,value:"GFOOD",children:"GFOOD (Gourmet Food)"})]})]}),"FFOOD"===this.state.tokenSelected?(0,r.jsxs)("span",{children:["\xa0\xa0Add liquidity at ",(0,r.jsx)("a",{target:"_new",href:"https://quickswap.exchange/#/add/ETH/0x2721d859EE8d03599F628522d30f14d516502944",children:"$FFOOD Quickswap"})," to get LP tokens."]}):null,"CFOOD"===this.state.tokenSelected?(0,r.jsxs)("span",{children:["\xa0\xa0Add liquidity at ",(0,r.jsx)("a",{target:"_new",href:"https://quickswap.exchange/#/add/ETH/0x33CC3b1852939Ef8CFd77BB5c3707cF2D3E72490",children:"$CFOOD Quickswap"})," to get LP tokens."]}):null,"GFOOD"===this.state.tokenSelected?(0,r.jsxs)("span",{children:["\xa0\xa0Add liquidity at ",(0,r.jsx)("a",{target:"_new",href:"https://quickswap.exchange/#/add/ETH/0x57d43Cfe565A2e6C181662aE73A9F1EC6A830351",children:"$GFOOD Quickswap"})," to get LP tokens."]}):null]}),(0,r.jsxs)("table",{style:{marginBottom:20,width:"80%"},children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:(0,r.jsx)("strong",{children:"Food Token"})}),(0,r.jsx)("th",{children:(0,r.jsx)("strong",{children:"Available Supply"})}),(0,r.jsx)("th",{children:(0,r.jsx)("strong",{children:"xFOOD rewards/week"})}),(0,r.jsx)("th",{children:(0,r.jsx)("strong",{children:"Buy..."})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"$FFOOD"}),(0,r.jsx)("td",{children:"\u20a310,000,000"}),(0,r.jsx)("td",{children:(0,r.jsx)("strong",{children:"\u20a325,000"})}),(0,r.jsx)("td",{children:this.renderBuyLink("FFOOD")})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"$CFOOD"}),(0,r.jsx)("td",{children:"\u20b51,000,000"}),(0,r.jsx)("td",{children:(0,r.jsx)("strong",{children:"\u20b52,500"})}),(0,r.jsx)("td",{children:this.renderBuyLink("CFOOD")})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"$GFOOD"}),(0,r.jsx)("td",{children:"\u20b2100,000"}),(0,r.jsx)("td",{children:(0,r.jsx)("strong",{children:"\u20b2250"})}),(0,r.jsx)("td",{children:this.renderBuyLink("GFOOD")})]})]})]})}},{key:"render",value:function(){var e=this,t=this.state,n=t.accountConnected,a=t.lpUnstaked,s=t.lpStaked,c=t.claimableRewards,i=t.rewardsPaid,o=t.rewardRate,d=t.totalRewardsPaid;return n?(this.state.error&&console.log("ERROR",this.state.error),(0,r.jsx)(E.T3,{children:(0,r.jsxs)("div",{className:"sky",children:[(0,r.jsx)(T.Z,{tokenSelected:this.state.tokenSelected,ref:this.headerRef,reload:function(){return e.reload()},setAccountConnected:function(t){return e.setAccountConnected(t)}}),(0,r.jsx)("div",{className:"w-100 divisor",children:" "}),(0,r.jsxs)(E.M5,{children:[this.state.error&&(0,r.jsxs)(U.a,{variant:"danger",title:"Error",children:[" ",this.state.error," "]}),this.state.info&&(0,r.jsx)(U.a,{variant:"info",title:this.state.info.title,children:this.state.info.detail}),!this.state.currentRewardPerdiod&&(0,r.jsx)(x.Z,{variant:"info",children:" No Active Reward Period. "}),this.state.currentRewardPerdiod&&(0,r.jsx)("div",{id:"container",style:{borderRadius:30,background:"#FFF",paddingTop:30,paddingLeft:20,paddingRight:20,marginTop:20,paddingBottom:50,marginLeft:20,marginRight:20,marginBottom:20},children:(0,r.jsxs)("div",{id:"bottom",children:[this.renderTable(),(0,r.jsx)(te,{lpUnstaked:a,lpStaked:s,claimableRewards:c,rewardsPaid:i,rewardRate:o,totalRewardsPaid:d,handleSuccess:function(t){return e.handleSuccess(t)},handleError:function(t,n){return e.handleError(t,n)},allowanceUpdated:function(){return e.handleAllowanceUpdated()},rewardPerdiod:this.state.currentRewardPerdiod,tokenSelected:this.state.tokenSelected})]})})]})]})})):(0,r.jsxs)(E.T3,{children:[(0,r.jsx)(T.Z,{tokenSelected:this.state.tokenStaked,ref:this.headerRef,setAccountConnected:function(t){return e.setAccountConnected(t)}}),(0,r.jsxs)(E.M5,{children:[(0,r.jsx)(x.Z,{variant:"info",title:"No Ethereum account connected",style:{textAlign:"center"},children:this.state.metamaskInstalled?"Please connect an Polygon/MATIC account to use the dapp!":"Please install Metamask to connect your wallet"}),this.renderTable(),(0,r.jsx)("p",{children:"Please login with your wallet to see pool stats"})]})]})}}]),n}(f.Component)},62610:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(67982)}])},96553:function(){},11007:function(){}},function(e){e.O(0,[774,645,33,730,162,440,888,179],(function(){return t=62610,e(e.s=t);var t}));var t=e.O();_N_E=t}]);